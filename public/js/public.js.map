{"version":3,"sources":["webpack:///./lib/helpers/get-element-props.js?289e","webpack:///./lib/helpers/get-element-style-values.js?aff0","webpack:///./lib/helpers/styles-manager.js?7477","webpack:///./lib/client/public.js","webpack:///./lib/components/page/index.jsx","webpack:///./lib/containers/public/page.jsx","webpack:///./lib/routers/public.js","webpack:///./assets/less/public.less"],"names":[],"mappings":"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","file":"public.js","sourcesContent":["import forEach from 'lodash.foreach';\n\nimport displays from './displays';\n\nexport default function getElementProps (element, display) {\n  let elementProps = element.props;\n\n  if (display !== 'desktop' && element.displayProps) {\n    const changes = {};\n    forEach(displays, (value, displayIt) => {\n      if (displayIt !== 'desktop' && value >= displays[display] && element.displayProps[displayIt]) {\n        Object.assign(changes, element.displayProps[displayIt]);\n      }\n    });\n    elementProps = Object.assign({}, elementProps, changes);\n  }\n\n  return elementProps;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/helpers/get-element-props.js\n **/","import forEach from 'lodash.foreach';\n\nimport displays from './displays';\n\nexport default function getElementStyleValues (defaults, options, displayOptions, display) {\n  const displayValues = {};\n  if (display !== 'desktop' && displayOptions) {\n    forEach(displays, (value, displayIt) => {\n      if (displayIt !== 'desktop' && value >= displays[display] && displayOptions[displayIt]) {\n        Object.assign(displayValues, displayOptions[displayIt]);\n      }\n    });\n  }\n\n  return Object.assign({}, defaults, options, displayValues);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/helpers/get-element-style-values.js\n **/","import find from 'lodash.find';\nimport forEach from 'lodash.foreach';\nimport {Stylesheet} from 'relax-jss';\n\nimport getElementStyleValues from './get-element-style-values';\n\nclass StylesManager {\n  constructor () {\n    this.stylesMap = {};\n    this.singleStylesheet = new Stylesheet();\n  }\n\n  changeStyle (id, styleOptions, options, displayOptions, display, single) {\n    const stylesheet = single && this.singleStylesheet || new Stylesheet();\n    const rules = styleOptions.rules(getElementStyleValues(styleOptions.defaults, options, displayOptions, display));\n    const classMap = stylesheet.createRules(rules);\n\n    this.stylesMap = Object.assign({}, this.stylesMap, {\n      [id]: {\n        options,\n        displayOptions,\n        display,\n        stylesheet,\n        classMap\n      }\n    });\n\n    return classMap;\n  }\n\n  getClassMap (id, styleOptions, options, displayOptions, display, single) {\n    let classMap;\n    const styleMap = this.stylesMap[id];\n    if (!styleMap || styleMap && (styleMap.options !== options || display !== 'desktop' && styleMap.displayOptions !== displayOptions || styleMap.displayOptions && styleMap.display !== display)) {\n      classMap = this.changeStyle(id, styleOptions, options, displayOptions, display, single);\n    } else {\n      classMap = styleMap.classMap;\n    }\n    return classMap;\n  }\n\n  getStyleOptions (style, elements) {\n    let result = style;\n    if (typeof style === 'string') {\n      forEach(elements, (element) => {\n        if (element.style && typeof element.style === 'object' && element.style.type === style) {\n          result = element.style;\n        }\n      });\n    }\n    return result;\n  }\n\n  processElement (element, elementProps, ElementClass, styles, elements, display, single = false) {\n    let classMap = {};\n    if (ElementClass && ElementClass.style) {\n      const styleId = elementProps && elementProps.style || 'no_style';\n      const styleOptions = this.getStyleOptions(ElementClass.style, elements);\n\n      if (styleId === 'no_style' && !element.style) {\n        // Default style\n        classMap = this.getClassMap(styleOptions.type, styleOptions, styleOptions.defaults, element.displayStyle, display, single);\n      } else {\n        // Apply style\n        if (styleId === 'no_style') {\n          classMap = this.getClassMap(element.id, styleOptions, element.style, element.displayStyle, display, single);\n        } else {\n          const style = find(styles, {_id: styleId});\n          if (style) {\n            classMap = this.getClassMap(styleId, styleOptions, style.options, style.displayOptions, display, single);\n          }\n        }\n      }\n    }\n    return classMap;\n  }\n}\n\nexport default new StylesManager();\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/helpers/styles-manager.js\n **/","import '../../assets/less/public.less';\n\nimport renderRoutes from './helpers/render-routes';\nimport routes from '../routers/public';\n\nrenderRoutes(routes);\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/client/public.js\n **/","import forEach from 'lodash.foreach';\nimport React, {PropTypes} from 'react';\nimport {Component} from 'relax-framework';\nimport {Component as JSS} from 'relax-jss';\n\nimport displays from '../../helpers/displays';\nimport getElementProps from '../../helpers/get-element-props';\nimport stylesheet from '../../helpers/stylesheet';\nimport stylesManager from '../../helpers/styles-manager';\nimport utils from '../../helpers/utils';\n\nexport default class Page extends Component {\n  static fragments = {\n    page: {\n      title: 1,\n      data: 1\n    }\n  }\n\n  static propTypes = {\n    elements: PropTypes.object.isRequired,\n    styles: PropTypes.array.isRequired,\n    page: PropTypes.object\n  }\n\n  getInitState () {\n    this.onResizeBind = ::this.onResize;\n    this.renderElementBind = ::this.renderElement;\n    this.renderChildrenBind = ::this.renderChildren;\n\n    return {\n      mounted: false,\n      display: 'desktop'\n    };\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.onResizeBind);\n    this.onResize();\n  }\n\n  onResize () {\n    const width = window.outerWidth;\n    // var height = window.outerHeight;\n\n    let display = 'desktop';\n    let amount = 99999;\n    forEach(displays, (value, key) => {\n      const dif = value - width;\n      if (width < value && dif < amount) {\n        amount = dif;\n        display = key;\n      }\n    });\n\n    this.setState({\n      mounted: true,\n      display\n    });\n  }\n\n  render () {\n    const {data} = this.props.page;\n    const elements = data && data.body && this.renderChildren(data.body.children);\n    return (\n      <div>\n        <JSS stylesheet={stylesheet} />\n        <JSS stylesheet={stylesManager.singleStylesheet} />\n        {elements}\n      </div>\n    );\n  }\n\n  renderChildren (children, options = {}) {\n    let result;\n    if ( children instanceof Array ) {\n      result = children.map(this.renderElement.bind(this, options));\n    } else {\n      result = children;\n    }\n    return result;\n  }\n\n  renderElement (options, elementId) {\n    const {display} = this.state;\n    const {elements, styles, page} = this.props;\n    let element = page.data[elementId];\n\n    const ElementClass = elements[element.tag];\n    const elementProps = getElementProps(element, this.state.display);\n\n    if (options.schemaEntry && options.elementsLinks && options.elementsLinks[element.id]) {\n      element = utils.alterSchemaElementProps(options.elementsLinks[element.id], element, options.schemaEntry, elementProps);\n    }\n\n    const styleClassMap = stylesManager.processElement(element, elementProps, ElementClass, styles, elements, this.state.display, true);\n\n    if ((!element.hide || !element.hide[display]) && element.display !== false) {\n      return (\n        <ElementClass\n          {...elementProps}\n          key={elementId}\n          element={element}\n          elementId={elementId}\n          styleClassMap={styleClassMap}\n          display={this.state.display}\n          renderElement={this.renderElementBind}\n          renderChildren={this.renderChildrenBind}\n        >\n          {element.children && this.renderChildren(element.children, options)}\n        </ElementClass>\n      );\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/components/page/index.jsx\n **/","import * as adminActions from '../../client/actions/admin';\n\nimport React, {PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {Component, buildQueryAndVariables} from 'relax-framework';\n\nimport elements from '../../components/elements';\nimport Page from '../../components/page';\nimport {updateColors} from '../../helpers/colors';\n\n@connect(\n  (state) => ({\n    page: state.page.data,\n    styles: state.styles.data,\n    colors: state.colors.data\n  }),\n  (dispatch) => bindActionCreators(adminActions, dispatch)\n)\nexport default class PublicPageContainer extends Component {\n  static fragments = {\n    colors: {\n      _id: 1,\n      label: 1,\n      value: 1\n    },\n    styles: {\n      _id: 1,\n      type: 1,\n      options: 1\n    }\n  }\n\n  static propTypes = {\n    params: PropTypes.object.isRequired,\n    colors: PropTypes.array.isRequired\n  }\n\n  static defaultProps = {\n    params: {}\n  }\n\n  getInitState (props = this.props) {\n    const params = props.params;\n    updateColors(this.props.colors);\n\n    return {\n      loading: false,\n      slug: params.slug,\n      entrySlug: params.entrySlug\n    };\n  }\n\n  componentWillReceiveProps (nextProps) {\n    const params = nextProps.params;\n\n    if (params.slug !== this.state.slug || params.entrySlug !== this.state.entrySlug) {\n      this.setState({\n        loading: true,\n        slug: params.slug,\n        entrySlug: params.entrySlug\n      }, () => {\n        this.fetchData(nextProps);\n      });\n    }\n  }\n\n  static getQueryAndVariables (props) {\n    const vars = {};\n    const fragments = {\n      ...PublicPageContainer.fragments\n    };\n\n    if (props.params && props.params.slug && !props.params.entrySlug) {\n      vars.page = {\n        slug: {\n          value: props.params.slug,\n          type: 'String!'\n        }\n      };\n      fragments.page = Page.fragments.page;\n    } else if (props.params && props.params.slug && props.params.entrySlug) {\n      // TODO schema loading\n    } else {\n      // frontpage\n      fragments.page = Page.fragments.page;\n    }\n\n    return buildQueryAndVariables(fragments, vars);\n  }\n\n  fetchData (props) {\n    props\n      .getAdmin(this.constructor.getQueryAndVariables(props))\n      .done(() => {\n        this.setState({\n          loading: false\n        });\n      });\n  }\n\n  render () {\n    return (\n      <Page {...this.props} {...this.props.params} {...this.state} elements={elements} />\n    );\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/containers/public/page.jsx\n **/","import React from 'react';\nimport {Route} from 'react-router';\n\nimport gaSend from '../client/helpers/ga-send';\nimport Page from '../containers/public/page';\n\nexport default [\n  <Route path='/:slug' component={Page} onEnter={gaSend} />,\n  <Route path='/' component={Page} onEnter={gaSend} />\n];\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/routers/public.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/less/public.less\n ** module id = 942\n ** module chunks = 3\n **/"],"sourceRoot":""}